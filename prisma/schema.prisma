// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DATABASE_URL")
  relationMode = "prisma"
}

model User {
  id            String          @id @default(cuid())
  name          String
  email         String          @unique
  emailVerified DateTime?
  image         String?
  password      String?
  role          String          @default("")
  accounts      Account[]
  invoices      invoice[]
 
  createdAt     DateTime        @default(now())
  updatedAt     DateTime        @updatedAt
}
 
model Account {
  userId            String
  type              String
  provider          String
  providerAccountId String
  refresh_token     String?
  access_token      String?
  expires_at        Int?
  token_type        String?
  scope             String?
  id_token          String?
  session_state     String?
 
  createdAt         DateTime @default(now())
  updatedAt         DateTime @updatedAt
 
  user User @relation(fields: [userId], references: [id], onDelete: Cascade, onUpdate: Cascade)
 
  @@id([provider, providerAccountId])
  @@index([userId])
}


model invoice {
  id              String    @id @default(cuid())
  userId          String    
  den             DateTime
  address         String
  recievedCompany String
  recievedAdress  String
  recievedZipCode String
  invoiceDate     DateTime
  dueDate         DateTime
  Kundennummer    String
  invoiceRef      String
  invoiceNo       String
  zeitraum        String
  objekt          String
  taxes           Float
  name            String
  email           String
  items           String
  createdAt       DateTime        @default(now())
  updatedAt       DateTime        @updatedAt
  user            User            @relation(fields: [userId], references: [id])

  @@index([userId])
}

